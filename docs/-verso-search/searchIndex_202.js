window.docContents[202].resolve({"/Fundamentals/#hoare-rules":{"contents":"In , Hoare provides some rules\nthat can be used to prove the correctness of a program.\nThose rules were transferred by  to the\nextension \\mathcal{L}_\\text{AS}, except for the axiom of assignment.\n\nThe notation used below should be understood as follows:\nEverything above the line represents the prerequisites.\nIn the case of rule axiom of assignment, there are no prerequisites,\nbut all other rules do have prerequisites.\nThe terms below the line indicate the conclusions that can be derived from the\nassumptions.\n\nThe axiom of assignment forms an elemental piece of the\n\n\\frac{}{\\{P [x \\leftarrow f]\\} \\quad x \\leftarrow f \\quad \\{P\\}} \\quad\n  \\textrm{\\scriptsize axiom of assignment}\n\n\nThis rule means that if x is a variable identifier and f is an expression, then\nP[x \\leftarrow f] is created by replacing all occurrences  of x in P with f.\n\nIn the \"conventional\" Hoare-logic, the rule of composition enable\n\nTo derive new statements about programs from a known Hoare-triple, one of the next two rules\ncan be applied.\nWith the rule PRE-STR, the precondition of a Hoare-triple can be strengthened:\n\n  (\\models (\\mathbf{lbl} = l) \\wedge P_2 \\implies P_1)\n  \\frac{[P_1]l \\rightarrow \\langle L_W | L_B \\rangle [Q]}\n  {[P_2]l \\rightarrow \\langle L_W | L_B \\rangle [Q]}\n  \\quad \\textrm{\\scriptsize PRE-STR}\n\n\nAllows to strenghten the precondition of a given Hoare-triple\n\nThe POST-WEAK rule allows for a weakening of the postcondition:\n\n\n  (\\models (\\mathbf{lbl} \\in L_W) \\wedge Q_1 \\implies Q_2)\n  \\frac{[P]l \\xrightarrow{I}\\langle L_W | L_B \\rangle [Q_1]}\n  {[P]l \\rightarrow\\langle L_W | L_B \\rangle [Q_2]}\n  \\quad \\textrm{\\scriptsize POST-WEAK}\n\n\nAllows to weaken the postcondition of a given Hoare-triple\n\nIt should be noted that the\nrules PRE-STR and POST-WEAK require that the implications for states at the\nentry and exit points (l and L_W, respectively).\n\nThe next rule enables the merge of two program sequences into one:\n\n  \\begin{pmatrix}\n      \\models L'_W \\subseteq L_B \\\\\n      \\models L_W \\cap L'_W = \\emptyset\n  \\end{pmatrix}\n  \\frac{[P]l \\rightarrow \\langle L_W | L_B \\rangle [R]\n  \\quad [R]L_W \\rightarrow\\langle L'_W | L'_B \\rangle [Q]}\n  {[P]l \\rightarrow\\langle L'_W | L_B \\cap L_B' \\rangle [Q]}\n  \\quad \\textrm{\\scriptsize S-SEQ}\n\n\nEqual to S_SEQ', but was defined for simplicity reasons.\nS_SEQ' requires L_{B''} to be in the form of L_B ∩ L_{B'}.\nThis rule lets you apply S_SEQ with any form of L_{B''} but asks for\na proof of L_{B''} = L_B ∩ L_{B'}\n\nThis rule states that if both Hoare-triples \\{P\\} c_1 \\{R\\} and\n\\{R\\} c_2 \\{Q\\} hold, they can be combined to derive the Hoare-triple\n\\{P\\} c_1; c_2 \\{Q\\}.\n\nNote that the starting point of the second command sequence may consist of multiple lines\ncontained in L_W.\nThe precondition L'_W \\subseteq L_B ensures that none of the final lines have already\nbeen visited in the first segment (l \\rightarrow \\langle L_W \\mid L_B \\rangle).\n\nTo avoid any ambiguity regarding visited lines, we additionally assume that\nL_W \\cap L'_W = \\emptyset.\n\nAn essential function in computer programs is the use of loops, which execute a chain of commands\nrepeatedly until a certain condition B no longer applies.\nSuch a loop can be created in unstructured programs using a jump command.\nIn order to prove statements about\nprograms with loops, the rule S-LOOP is required. To apply this rule, a loop condition B,\na loop invariant I and a loop variant V are required.\nThe special feature of I is that it is a statement that is true both before and after each loop\niteration.\nTherefore, I remains valid regardless of the number of loop iterations - even if the loop is not\nexecuted a single time.\nOn the opposite sits the loop variant.\nThe loop variant is an element or statement V from a well-ordered set\nW with < as the order relation.\nDue to the well-ordering, the set W has a smallest element, which means that there cannot\nbe an infinite chain with x_1 > x_2 > \\dots. It now needs to\nbe shown that the value of V decreases strictly monotonically, i.e., it decreases after\neach loop iteration.\nIf this can be shown, the loop must terminate at some point, since the value of V can only\ndecrease a finite number of times.\nFor this proof, the variable x is introduced, which is not used in any other way within a\nprogram.\n\nThis whole concept is formalized in the rule S-LOOP as follows:\n\n\\begin{pmatrix}\n    \\models l \\notin L_W \\\\\n    \\models l \\notin L_B\n\\end{pmatrix}\n\\frac{\n    \\begin{matrix}\n        [B \\wedge V = x]l \\xrightarrow{I} \\langle \\{l\\} \\cup L_W | L_B \\rangle [\\textrm{\\textbf{lbl}} = l \\wedge V < x] \\\\\n        [\\neg B \\wedge I]l \\rightarrow \\langle L_W | L_B \\rangle [Q]\n    \\end{matrix}\n    }\n    {[I]l \\rightarrow \\langle L_W | L_B\\rangle [Q]}\n    \\quad \\textrm{\\scriptsize S-LOOP}\n\n\nA rule to verify the formal correctness of a loop.\nRequires:* A Condition C* An Invariant I* A Variant VFor more information, see the (documentation)[TODO insert link]\n\nThe rule S-LOOP describes two states of a loop.\nOn the one hand, there is the loop itself, which is bound to condition B and contains both the\nloop invariant I and the loop variant V. The union of \\{l\\} and L_W and the\npostcondition \\mathbf{lbl} = l ensure that at the end of a loop iteration, the PC points back\nto the beginning of the loop.\nOn the other hand, there is the case where \\neg B applies. Under these circumstances,\nthe loop body is exited, and a jump is made to one of the lines stored in L_W.\n\nConditional branches are also an essential part of a computer program, as they enable an individual\nresponse to different states.\n\nThe rule S-COND can be used to handle conditional branchen during a proof of formal correctness.\n\n    \\frac{\n        [P \\wedge B]l \\rightarrow \\langle L_W | L_B \\rangle [Q]\n        \\quad [P \\wedge \\neg B]l \\rightarrow \\langle L_W | L_B \\rangle [Q]\n    }\n    {\n        [P]l \\rightarrow \\langle L_W | L_B\\rangle [Q]\n    }\n    \\quad \\textrm{\\scriptsize S-COND}\n\n\nIn this rule, a condition C is evaluated and, depending on whether it is fulfilled or not,\neither the command chain S_1 or S_2$ is executed.\n\nSince \\mathcal{L}_\\text{{AS}} works with sets of program lines, rules are needed to\nbe able to adjust them during a proof.\nFor this purpose, the following three rules were defined in ,\nwhich allow the contents of the sets L_W and L_B to be manipulated.\n\n\n    \\frac{\n            [P]l \\rightarrow \\langle L_W | L_B\\rangle [Q]\n        }\n        {\n            [P]l \\rightarrow \\langle L_W | L_B \\backslash L\\rangle [Q]\n        }\n        \\quad \\textrm{\\scriptsize BL-SUBSET}\n\n\nAllows to weaken the Hoare triple by removing a set\nL from L_B\n\n\n    \\begin{pmatrix}\n        \\models L \\subseteq L_B\n    \\end{pmatrix}\n    \\frac{\n        \\begin{matrix}\n            [P]l \\rightarrow \\langle L_W | L_B \\rangle [Q]\n        \\end{matrix}\n        }\n        {\n            [P]l \\rightarrow \\langle L_W \\cup L | L_B \\backslash L\\rangle [Q]\n        }\n        \\quad \\textrm{\\scriptsize BL-TO-WL}\n\n\nAllows to weaken the Hoare triple\nby moving a set L it to L_W without restrictions.\n\n\n    \\begin{pmatrix}\n        \\models L \\subset L_W \\\\\n        \\models Q \\implies \\textrm{\\textbf{lbl}} \\notin L\n    \\end{pmatrix}\n    \\frac{\n        \\begin{matrix}\n            [P]l \\rightarrow \\langle L_W | L_B \\rangle [Q]\n        \\end{matrix}\n        }\n        {\n            [P]l \\rightarrow \\langle L_W \\backslash L | L_B \\cup L\\rangle [Q]\n        }\n        \\quad \\textrm{\\scriptsize WL-TO-BL}\n\n\nThis rule can be used to transfer the set L from L_W to L_B.\nHowever, this requires that the postcondition Q does not cause the PC\nto point to a line from L.\n\n","context":"Documentation MRiscX\u0009Fundamentals\u0009Extension Of The Hoare-Logic  <missing>","header":"2.3.1. Hoare-Rules","id":"/Fundamentals/#hoare-rules"}});