window.docContents[136].resolve({"/Writing-a-specification/#pc-black-whitelist":{"contents":"As already shown in the introduction of the Hoare-logic which\nis used, we need to specify exactly where the ProgramCounter points to\nbefore executing the program. Also, we need to provide a black- and whitelist\nin order to ensure, that the ProgramCounter just visits the lines\nwe intend to proof the formal correctness of.\nThe ProgramCounter is of type UInt64 and the black-, and\nwhitelist are of type Set UInt64.\nWe can use the usual syntax here.\n\nThe value required for the ProgramCounter is the line which the PC\npoints to, before executing the first instruction. So basically, this should\nbe the first instruction we want to be executed.\nAfter executing one instruction, the ProgramCounter points to the next\ninstruction.\n\nWe define the whitelist as a set of lines which contains any lines the PC might\npoint to after the program terminated.\n\nSo if we have a program like this:\n\n#check\n  mriscx\n    _start: li x 1, 2\n  end\n\n\nthe Hoare-triple should look like this\n\nexample :\n  mriscx\n    _start: li x 1, 2\n  end\n  ⦃¬⸨terminated⸩⦄\n  0 ↦ ⟨{1} | {n:UInt64 | n > 1} ∪ {0}⟩\n  ⦃true ∧ ¬⸨terminated⸩⦄\n  := by\n  sorry\n\n\nAs you can see, we want to stop when the PC points to line 1, that is, the line\nimmediately following the instruction we want to inspect.\nTo make explicit something that can be slightly confusing when defining a\nHoare-triple, we write {n : UInt64 | n > 1} ∪ {0}\n(which is simply a cumbersome way of writing {n : UInt64 | n ≠ 1})\nas the blacklist.\nThis choice is motivated by the fact that the \\mathsf{weak} function only\nconsiders machine states that have executed at least one instruction.\nConsequently, if we want to ensure that the PC does not visit the line where the\nfirst instruction is located after at least one instruction has been executed,\nwe must include this line in the blacklist.\n\n\n","context":"Documentation MRiscX\u0009Writing a specification","header":"3.2. ProgramCounter, Black- and Whitelist","id":"/Writing-a-specification/#pc-black-whitelist"}});